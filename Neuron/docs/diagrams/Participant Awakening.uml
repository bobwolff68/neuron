#
# Drawings created by www.websequencediagrams.com
#
# Author: Robert Wolff
# Date: 8/19/2010
#

participant "Participant\nA" as PartA
participant "[DOMAIN:100]\nGlobal Control" as Ctrl
participant "[TOPIC]\nActiveCalls" as Acalls
participant "Local relay\nAppliance+CC" as Lrelay
participant "Cloud relayMANE" as Crelay
participant "Cloud Call-Center" as gCC
participant "Participant\nB" as PartB

note over PartA, PartB: Control Plane Domain == 100
#
# New participant joins directory, finds relay and CC if they exist - else ad-hoc
#
PartA->Ctrl: Join Domain, prep my info, publish as a participant to everyone.
activate Ctrl
Ctrl->PartA: Reads all participants and sort by their type.
alt Found relay and CC
  opt Credentials == service/cloud type
	  note over PartA: We have a service-based cloud system.
	  else Appliance Only
	  note over PartA: We have a relay but no cloud service.
  end
else Ad-Hoc
  note over PartA: This is ad-hoc only.
end
